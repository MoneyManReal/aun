<!DOCTYPE html>
<html>
   <head>
      <title>Camouflage</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
   </head>
   <body>
      <nav>
         <div>
            <img src="/favicon.png"><p>Camouflage</p>
         </div>
         <ul>
            <li><a href="/"><i class="fa fa-home"></i></a></li>
            <li><a href="/games.html"><i class="fa fa-gamepad"></i></a></li>
            <li><a href="/static/"><i class="fa fa-search"></i></a></li>
            <li><a href="/apps.html"><i class="material-icons">apps</i></a></li>   
         </ul>
      </nav>
      <div>
         <img src="/favicon.png">
      </div>
      <div>
         <form id="uv-form">
            <input id="uv-search-engine" value="https://www.google.com/search?q=%s" type="hidden"/> 
            <input id="uv-address" type="text" placeholder="Search Google or type an URL"/>
         </form>
         <div>
            <p id="uv-error"></p>
            <pre id="uv-error-code"></pre>
         </div>
      </div>
      <script src="uv/uv.bundle.js" defer></script>
      <script src="uv/uv.config.js" defer></script>
      <script src="register-sw.js" defer></script>
      <script src="search.js" defer></script>
      <script src="index.js" defer></script>
      <script src="error.js"></script>
   </body>
   <script>
      const canvas = document.createElement('canvas');
      canvas.id = 'snowCanvas';
      document.body.appendChild(canvas);

      const ctx = canvas.getContext('2d');

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const snowflakes = [];
      const maxSnowflakes = 150;

      class Snowflake {
         constructor() {
            this.reset();
         }

         reset() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height - canvas.height;
            this.radius = Math.random() * 3 + 1;
            this.speed = Math.random() * 1 + 0.5;
            this.opacity = Math.random() * 0.8 + 0.2;
         }

         update() {
            this.y += this.speed;

            if (this.y > canvas.height) {
               this.reset();
            }
         }

         draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
            ctx.fill();
         }
      }

      for (let i = 0; i < maxSnowflakes; i++) {
         snowflakes.push(new Snowflake());
      }

      function animate() {
         ctx.clearRect(0, 0, canvas.width, canvas.height);

         for (const snowflake of snowflakes) {
            snowflake.update();
            snowflake.draw();
         }

         requestAnimationFrame(animate);
      }

      animate();

      window.addEventListener('resize', () => {
         canvas.width = window.innerWidth;
         canvas.height = window.innerHeight;
      });
   </script>
</html>
